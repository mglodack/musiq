@model List<SongModel>
@using DataAccessLayer.Models;

<script src="~/Scripts/NodeJS/socket.io.min.js"></script>
<script>
    $(document).ready(function () {
        var socket = io.connect("ec2-54-186-63-97.us-west-2.compute.amazonaws.com:9123");
        //iosocket.on('connect', function () {
        //    console.log("Connected");
        //    iosocket.on('message', function (message) {
        //        var command = JSON.parse(message);
        //        // This is where the magic is!
        //        $(command.item).trigger(command.action, [command.value]);
        //    });
        //});

        socket.on('connect', function () {
            socket.send('Message');

            socket.on('message', function (msg) {
                console.log("Message received");
            });
        });

        var playlist = $('#music-playlist');
        playlist.find('tbody tr').click(function (e) {
            e.preventDefault();

            var command = {
                id: $(this).data('songid'),
                action: "dblclick"
            };

            socket.send(JSON.stringify(command));
        });
    });

</script>

<div class="profile-container container-fluid" id="profile-page-wrapper">
    <div class="row">
        <div class="col col-lg-9" id="profile-table-wrapper">
            @Html.Partial("_PlaylistPartial", Model)
        </div>
    </div>
</div>